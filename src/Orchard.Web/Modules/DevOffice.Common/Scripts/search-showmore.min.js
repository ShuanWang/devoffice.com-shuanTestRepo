(function(n){function t(){n("li.filter-category-item.active").removeClass("active");n("[data-contentTypeSection]").show()}function i(t,i){t!=null&&n.ajax({type:"POST",url:"/search/listmore",data:{q:n("#q").val(),currentPage:n(t).text(),currentContentType:n(i).text(),__RequestVerificationToken:n("#ForgeryToken").val()}}).success(function(i){var r=t.parent("ul"),f=r.find("a.search-see-more"),e;f.before(i);e=parseInt(n(t).text(),10)+1;n(t).text(e);u(r);r.find(".pages").text()<n(t).text()&&f.hide()})}function u(t){var u=t.find("li.hide"),i;u.slice(0,r).removeClass("hide").collapse("show");i=t.find("li.hide").length;i<=0&&n(this).hide()}function f(){n("[data-rss]").each(function(){e(this).done(o.bind(this))})}function e(t){var i=n(t),r=i.attr("data-rss"),u=document.location.protocol+"//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=20&callback=?&q="+encodeURIComponent(r);return n.getJSON(u)}function o(t){var o=n(this),i=[],r,e,h,u,f,s;if(url=o.attr("data-redirect"),t.responseData&&t.responseData.feed&&t.responseData.feed.entries&&t.responseData.feed.entries.length){for(r=t.responseData.feed.entries,e=document.createElement("a"),e.href=r[0].link,h=t.responseData.feed.link||e.hostname,i.push("<span><\/span>"),u=0;u<r.length;u++)f=r[u],s='<li class="col-md-6 col-sm-6 event-box-details collapse in"><div class="code-event"><div class="event-info"><div class="code-title"><div class="event-icon col-xs-4"><img src="/Themes/DevOffice/Content/Icons/devoffice_msdn_100x39.png" class="img-responsive"><\/div><div class="col-xs-8 name cp1">'+f.title+'<\/div><div class="col-xs-8 event-links"><a data-bind="attr: { href: Url }" href="'+f.link+'" target="@external" role="link" class="pull-right ff-semibold">VIEW<img class="see-more-icon podcast-see-more-icon" src="/Themes/DevOffice/Content/Images/seeMoreIcon.png" role="img" alt="see more arrow"> <\/a><\/div><\/div><\/div><div class="register-now"><div class="desc">'+f.content+"<\/div><\/div><\/div><\/div><\/li>",i.push(s);i.push('<div class="row">');i.push(' <a href="'+url+'" target="_blank" class="search-see-more col-md-12 col-xs-12 seeMoreMsdnSearchResults">');i.push("  See more posts ");i.push('  <img class="see-more-icon" src="/Themes/DevOffice/Content/Images/seeMoreIcon.png" />');i.push(" <\/a>");i.push("<\/div>");n("#search-filters").append('<li class="filter-category-item" data-contenttype="msdn">MSDN Search Results (Top 20)<\/li>');n(".search-not-found").hide()}else i.push("<p>The RSS feed seems to have not pulled any entries.<\/p>");o.html(i.join(""))}n(document).ready(function(){f();n(".search-showmore").click(function(t){t.preventDefault();var r=n(this).parent("ul").find(".next-page"),u=n(this).parent("ul").find(".current-contentType");i(r,u)});n(document).on("click","li.filter-category-item",function(){n(this).toggleClass("active")});n("button#clearButton").click(t);n("button#applyButton").click(function(){n("#search-filters li").each(function(){var t=n(this).attr("data-contentType");n(this).hasClass("active")?n("#search-results").find('[data-contentTypeSection="'+t+'"]').show():n("#search-results").find('[data-contentTypeSection="'+t+'"]').hide()})});n("#affix").affix({offset:{top:function(){return this.top=n("#layout-header").outerHeight(!0)+n(".zone-content .banner-image").outerHeight(!0)}}})});var r=4})(jQuery);
//# sourceMappingURL=search-showmore.min.js.map
